CREATE TABLE FILIAL (
 ID_FILIAL INT NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Departamento PRIMARY KEY,
 NOME_FILIAL VARCHAR(100) UNIQUE,
 CIDADE_FILIAL VARCHAR(80),
TEL_FIFLIAL VARCHAR(20),
 CEP_FILIAL CHAR(17),
 ESTADO_FILIAL CHAR(4)
FOREIGN KEY(ENDEREÇO) REFERENCES PRODUTO(ID_PRODUTO)

);


CREATE TABLE SERVICO (
ID_SERVICO INT NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Servico PRIMARY KEY,
TIPO_SERV VARCHAR(100),
 VALOR_SERV FLOAT(10),
 PRAZO_SERV INT
);



CREATE TABLE TIPO_PRODUTO (
 ID_TIPO_PROD INT NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Tipo_Produto PRIMARY KEY,
 NOME_PROD VARCHAR(50),
 DESCRICAO_PROD VARCHAR(512)
);



CREATE TABLE CLIENTE (
 CPF_CLIENTE CHAR(16) NOT NULL CONSTRAINT PK_Cliente PRIMARY KEY,
 NOME_CLIENTE VARCHAR(100),
 SOBRENOME_CLIENTE VARCHAR(150),
SEXO_CLIENTE CHAR(1),
NASC_CLIEN VARCHAR(10)
TEL_CLIENTE VARCHAR(20),
 CEL_CLIENTE VARCHAR(21),
 EMAIL_CLIENTE VARCHAR(100),
 STATUS_CLIENTE CHAR(30)
);



CREATE TABLE ENDERECO_CLIENTE (
 ID_ENDERECO_CLI LONG NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Endereco PRIMARY KEY,
 LOGRADOURO_CLI VARCHAR(150),
 COMPLEMENTO_CLI VARCHAR(50),
 BAIRRO_CLI VARCHAR(80),
 CIDADE_CLI VARCHAR(80),
 ESTADO_CLI CHAR(4),
 CEP_CLI CHAR(17),
CPF_CLI CHAR(16),
FOREIGN KEY(CPF) REFERENCES CLIENTE(CPF)

);



CREATE TABLE FUNCIONARIO (
 ID_FUNC LONG NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Funcionario PRIMARY KEY,
 CPF_FUNC CHAR(16) NOT NULL CONSTRAINT PK_Cliente PRIMARY KEY,
 NOME_FUNC VARCHAR(100),
 SOBRENOME_FUNC VARCHAR(150),
SEXO_FUNC CHAR(1),
NASC_FUNC VARCHAR(10)
TEL_FUNC VARCHAR(20),
 CEL_FUNC VARCHAR(21),
 EMAIL_FUNC VARCHAR(100),
 STATUS_FUNC CHAR(30)
 SENHA_FUNC VARCHAR(100),
 CARGO_FUNC VARCHAR(80),
 SALARIO_FUNC FLOAT(20),
FILIAL_FUNC VARCHAR(30),

FOREING KEY (ID_FILIAL) REFERENCES FILIAL(ID_FILIAL)
);



CREATE TABLE ENDERECO_FUNCIONARIO (
 ID_ENDERECO_CLI LONG NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Endereco PRIMARY KEY,
 LOGRADOURO_FUNC VARCHAR(150),
 COMPLEMENTO_FUNC VARCHAR(50),
 BAIRRO_FUNC VARCHAR(80),
 CIDADE_FUNC VARCHAR(80),
 ESTADO_FUNC CHAR(4),
 CEP_FUNC CHAR(17),
CPF_FUNC CHAR(16),
FOREIGN KEY(CPF) REFERENCES FUNC(CPF_FUNC)

);



CREATE TABLE PEDIDO (
 ID_PEDIDO LONG NOT NULL GENERATED ALWAYS AS IDENTITY(START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Pedido PRIMARY KEY,
 STATUS CHAR(10),
 DATA_ENTRADA STRING,
 DATA_SAIDA DATE,
 ID_FUNC LONG,
 CPF_CLI VARCHAR(16),
 ID_FILIAL LONG,

FOREIGN KEY (CPF_CLIENTE) REFERENCES CLIENTE(CPF_CLIENTE),
FOREIGN KEY (ID_FUNC) REFERENCES FUNCIONARIO(ID_FUNC),
FOREIGN KEY (ID_FILIAL) REFERENCES FILIAL(ID_FILIAL)
);



CREATE TABLE PRODUTO (
 id_produto INT NOT NULL GENERATED ALWAYS AS IDENTITY CONSTRAINT PK_Produto PRIMARY KEY,
 NOME_PROD VARCHAR(100),
 VALIDADE_PROD DATE,
 LOTE INT,
 STATUS VARCHAR(30),
 QTD_MIN DECIMAL(10),
 QTD_MAX DECIMAL(10),
 QTD_ATUAL DECIMAL(10),
 ID_TIPO_PROD LONG,
ID_FUNC LONG,
FOREIGN KEY (ID_TIPO_PROD) REFERENCES TIPO_PROD(ID_TIPO_PROD),
FOREIGN KEY (ID_FUNC) REFERENCES FUNCIONARIO(ID_FUNC)
);



CREATE TABLE PECA (
 ID_PECA LONG NOT NULL GENERATED ALWAYS AS IDENTITY 
(START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Roupa PRIMARY KEY,
 QTD_PECA INT,
 TIPO_PECA VARCHAR(30),
 COR_PECA VARCHAR(10),
 TIPO_TECIDO VARCHAR(30),
 ID_PEDIDO LONG,
 ID_SERVICO LONG,
FOREIGN KEY (ID_PEDIDO) REFERENCES PEDIDO(ID_PEDIDO),
FOREIGN KEY (ID_SERVICO) REFERENCES SERVICO(ID_SERVICO)
);



CREATE TABLE TRATATIVA_CHAMADO (
 ID_TRATATIVA LONG NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Tratativa_chamado PRIMARY KEY,
 DATA_FECHAMENTO DATE,
 DESCRICAO_TRATATIVA VARCHAR(512),
 ID_CHAMADO LONG,
 ID_FUNC LONG,
FOREIGN KEY (ID_CHAMADO) REFERENCES CHAMADO(ID_CHAMADO),
FOREIGN KEY (ID_FUNC) REFERENCES FUNCIONARIO(ID_FUNC)
);



CREATE TABLE Alteracao (
 id_alteracao INT NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Alteracao PRIMARY KEY,
 tipo_de_alteracao VARCHAR(80),
 descricao VARCHAR(600),
 data_alterada DATE,
 id_funcionario INT
);


CREATE TABLE CHAMADO (
 ID_CHAMADO LONG NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Chamado PRIMARY KEY,
 DESCRICAO_CHAMADO VARCHAR(512),
 STATUS CHAR(20),
 DATA_ABERTURA DATE,
 TIPO_SOLICITACAO VARCHAR(80),
 ID_FUNC LONG,

FOREIGN KEY (ID_FUNC) REFERENCES FUNCIONARIO(ID_FUNC)
);



CREATE TABLE FEED_NOTICIAS (
ID_FEED INT NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Feed_noticias PRIMARY KEY,
 DESCRICAO_FEED VARCHAR(512),
 DATA_POST DATE,
 TITULO_FEED VARCHAR(150),
ID_FUNC LONG
FOREIGN KEY (ID_FUNC) REFERENCES FUNCIONARIO(ID_FUNC)
);



CREATE TABLE Movimento (
 id_movimento INT NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Movimento PRIMARY KEY,
 data_mov DATE,
 tipo_movimento CHAR(20),
 quantidade DECIMAL(20),
 descricao VARCHAR(80),
 id_produto INT,
 id_funcionario INT
);



ALTER TABLE Cliente ADD CONSTRAINT FK_Cliente_0 FOREIGN KEY (id_dpt) REFERENCES Departamento (id_dpt);


ALTER TABLE Endereco ADD CONSTRAINT FK_Endereco_0 FOREIGN KEY (id_cpf) REFERENCES Cliente (id_cpf);


ALTER TABLE Funcionario ADD CONSTRAINT FK_Funcionario_0 FOREIGN KEY (id_cpf) REFERENCES Cliente (id_cpf);


ALTER TABLE Pedido ADD CONSTRAINT FK_Pedido_0 FOREIGN KEY (id_funcionario) REFERENCES Funcionario (id_funcionario);
ALTER TABLE Pedido ADD CONSTRAINT FK_Pedido_1 FOREIGN KEY (id_cpf) REFERENCES Cliente (id_cpf);
ALTER TABLE Pedido ADD CONSTRAINT FK_Pedido_2 FOREIGN KEY (id_dpt) REFERENCES Departamento (id_dpt);


ALTER TABLE Produto ADD CONSTRAINT FK_Produto_0 FOREIGN KEY (id_tipo) REFERENCES Tipo_Produto (id_tipo);
ALTER TABLE Produto ADD CONSTRAINT FK_Produto_1 FOREIGN KEY (id_dpt) REFERENCES Departamento (id_dpt);
ALTER TABLE Produto ADD CONSTRAINT FK_Produto_2 FOREIGN KEY (id_funcionario) REFERENCES Funcionario (id_funcionario);


ALTER TABLE Roupa ADD CONSTRAINT FK_Roupa_0 FOREIGN KEY (id_pedido) REFERENCES Pedido (id_pedido);
ALTER TABLE Roupa ADD CONSTRAINT FK_Roupa_1 FOREIGN KEY (id_servico) REFERENCES Servico (id_servico);


ALTER TABLE Tratativa_chamado ADD CONSTRAINT FK_Tratativa_chamado_0 FOREIGN KEY (id_funcionario) REFERENCES Funcionario (id_funcionario);
ALTER TABLE Tratativa_chamado ADD CONSTRAINT FK_Tratativa_chamado_1 FOREIGN KEY (id_chamado) REFERENCES chamado(id_chamado);

ALTER TABLE Alteracao ADD CONSTRAINT FK_Alteracao_0 FOREIGN KEY (id_funcionario) REFERENCES Funcionario (id_funcionario);


ALTER TABLE Chamado ADD CONSTRAINT FK_Chamado_0 FOREIGN KEY (id_funcionario) REFERENCES Funcionario (id_funcionario);



ALTER TABLE Feed_noticias ADD CONSTRAINT FK_Feed_noticias_0 FOREIGN KEY (id_funcionario) REFERENCES Funcionario (id_funcionario);


ALTER TABLE Movimento ADD CONSTRAINT FK_Movimento_0 FOREIGN KEY (id_produto) REFERENCES Produto (id_produto);
ALTER TABLE Movimento ADD CONSTRAINT FK_Movimento_1 FOREIGN KEY (id_funcionario) REFERENCES Funcionario (id_funcionario);


