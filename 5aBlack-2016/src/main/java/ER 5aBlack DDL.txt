CREATE TABLE Departamento (
 id_dpt INT NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Departamento PRIMARY KEY,
 nome VARCHAR(100) UNIQUE,
 endereco VARCHAR(150),
 cidade VARCHAR(80),
 tel VARCHAR(20),
 cep CHAR(17),
 estado CHAR(4)
);


CREATE TABLE Servico (
 id_servico INT NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Servico PRIMARY KEY,
 tipo_de_servico VARCHAR(100),
 valor FLOAT(10),
 prazo INT
);



CREATE TABLE Tipo_Produto (
 id_tipo INT NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Tipo_Produto PRIMARY KEY,
 nome VARCHAR(50),
 descricao VARCHAR(512)
);



CREATE TABLE Cliente (
 id_cpf CHAR(16) NOT NULL CONSTRAINT PK_Cliente PRIMARY KEY,
 nome VARCHAR(100),
 sobrenome VARCHAR(150),
 dataNasc DATE,
 tel VARCHAR(20),
 cel VARCHAR(21),
 email VARCHAR(100),
 data_entrada DATE,
 status CHAR(10),
 id_dpt INT
);



CREATE TABLE Endereco (
 id_endereco INT NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Endereco PRIMARY KEY,
 endereco VARCHAR(150),
 complemento VARCHAR(50),
 bairro VARCHAR(80),
 cidade VARCHAR(80),
 estado CHAR(4),
 cep CHAR(17),
 id_cpf CHAR(16)
);



CREATE TABLE Funcionario (
 id_funcionario INT NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Funcionario PRIMARY KEY,
 senha VARCHAR(100),
 cargo VARCHAR(80),
 salario FLOAT(20),
 id_cpf CHAR(11)
);


CREATE TABLE Pedido (
 id_pedido INT NOT NULL GENERATED ALWAYS AS IDENTITY CONSTRAINT PK_Pedido PRIMARY KEY,
 status CHAR(15),
 data_entrada DATE,
 data_saida DATE,
 id_funcionario INT,
 id_cpf CHAR(16),
 id_dpt INT
);



CREATE TABLE Produto (
 id_produto INT NOT NULL GENERATED ALWAYS AS IDENTITY CONSTRAINT PK_Produto PRIMARY KEY,
 nome VARCHAR(100),
 validade DATE,
 lote INT,
 status VARCHAR(20),
 min_qtd FLOAT(10),
 max_qtd FLOAT(10),
 quantidade DECIMAL(10),
 id_tipo INT,
 id_dpt INT,
 id_funcionario INT
);



CREATE TABLE Roupa (
 id_roupa INT NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Roupa PRIMARY KEY,
 descricao VARCHAR(512),
 quantidade INT,
 tipo_peca VARCHAR(80),
 cor VARCHAR(80),
 tipo_tecido VARCHAR(80),
 id_pedido INT,
 id_servico INT
);



CREATE TABLE Tratativa_chamado (
 id_tratativa INT NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Tratativa_chamado PRIMARY KEY,
 data_fechamento DATE,
 descricao VARCHAR(512),
 id_chamado CHAR(20),
 id_funcionario INT
);



CREATE TABLE Alteracao (
 id_alteracao INT NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Alteracao PRIMARY KEY,
 tipo_de_alteracao VARCHAR(80),
 descricao VARCHAR(600),
 data_alterada DATE,
 id_funcionario INT
);


CREATE TABLE Chamado (
 id_chamado INT NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Chamado PRIMARY KEY,
 descricao VARCHAR(512),
 status CHAR(4),
 data_abertura DATE,
 data_baixada DATE,
 tipo_solicitacao VARCHAR(80),
 id_funcionario INT
);



CREATE TABLE Feed_noticias (
 id_feed INT NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Feed_noticias PRIMARY KEY,
 descricao VARCHAR(512),
 data_postado DATE,
 titulo VARCHAR(150),
 id_funcionario INT
);



CREATE TABLE Movimento (
 id_movimento INT NOT NULL GENERATED ALWAYS AS IDENTITY 
    (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Movimento PRIMARY KEY,
 data_mov DATE,
 tipo_movimento CHAR(20),
 quantidade DECIMAL(20),
 descricao VARCHAR(80),
 id_produto INT,
 id_funcionario INT
);



ALTER TABLE Cliente ADD CONSTRAINT FK_Cliente_0 FOREIGN KEY (id_dpt) REFERENCES Departamento (id_dpt);


ALTER TABLE Endereco ADD CONSTRAINT FK_Endereco_0 FOREIGN KEY (id_cpf) REFERENCES Cliente (id_cpf);


ALTER TABLE Funcionario ADD CONSTRAINT FK_Funcionario_0 FOREIGN KEY (id_cpf) REFERENCES Cliente (id_cpf);


ALTER TABLE Pedido ADD CONSTRAINT FK_Pedido_0 FOREIGN KEY (id_funcionario) REFERENCES Funcionario (id_funcionario);
ALTER TABLE Pedido ADD CONSTRAINT FK_Pedido_1 FOREIGN KEY (id_cpf) REFERENCES Cliente (id_cpf);
ALTER TABLE Pedido ADD CONSTRAINT FK_Pedido_2 FOREIGN KEY (id_dpt) REFERENCES Departamento (id_dpt);


ALTER TABLE Produto ADD CONSTRAINT FK_Produto_0 FOREIGN KEY (id_tipo) REFERENCES Tipo_Produto (id_tipo);
ALTER TABLE Produto ADD CONSTRAINT FK_Produto_1 FOREIGN KEY (id_dpt) REFERENCES Departamento (id_dpt);
ALTER TABLE Produto ADD CONSTRAINT FK_Produto_2 FOREIGN KEY (id_funcionario) REFERENCES Funcionario (id_funcionario);


ALTER TABLE Roupa ADD CONSTRAINT FK_Roupa_0 FOREIGN KEY (id_pedido) REFERENCES Pedido (id_pedido);
ALTER TABLE Roupa ADD CONSTRAINT FK_Roupa_1 FOREIGN KEY (id_servico) REFERENCES Servico (id_servico);


ALTER TABLE Tratativa_chamado ADD CONSTRAINT FK_Tratativa_chamado_0 FOREIGN KEY (id_funcionario) REFERENCES Funcionario (id_funcionario);


ALTER TABLE Alteracao ADD CONSTRAINT FK_Alteracao_0 FOREIGN KEY (id_funcionario) REFERENCES Funcionario (id_funcionario);


ALTER TABLE Chamado ADD CONSTRAINT FK_Chamado_0 FOREIGN KEY (id_funcionario) REFERENCES Funcionario (id_funcionario);


ALTER TABLE Feed_noticias ADD CONSTRAINT FK_Feed_noticias_0 FOREIGN KEY (id_funcionario) REFERENCES Funcionario (id_funcionario);


ALTER TABLE Movimento ADD CONSTRAINT FK_Movimento_0 FOREIGN KEY (id_produto) REFERENCES Produto (id_produto);
ALTER TABLE Movimento ADD CONSTRAINT FK_Movimento_1 FOREIGN KEY (id_funcionario) REFERENCES Funcionario (id_funcionario);


